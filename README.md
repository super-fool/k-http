# OSI-Open System Interconnect 七层模型（属于理论模型）：

- 应用层：**最高层**服务协议，直接服务于应用程序,常用协议：HTTP,FTP,SMTP,DNS,HTTP3,DHCP,TELNET,POP3。
- 表示层：(在五层协议中，该层属于应用层)，服务于数据的表示，安全，压缩，**目的：传输数据格式的统一**。
- 会话层：(在五层协议中，该层属于应用层)，服务于会话的建立，管理，关闭，**一次请求和响应表示一次会话**。
- 传输层：定义**传输数据的协议端口号，以及流控和校验差错**，常用协议有：TCP，UDP。数据包一旦进入网卡即进入了传输层。
- 网络层：进行逻辑地址寻址，实现不同网络之间的路径选择，常用协议有：IP(IPV4,IPV6),ARP,RARP.
- 数据链路层：建立逻辑连接，进行硬件地址寻址，差错校验等功能。
- 物理层：建立，维护，断开物理连接。

---

前四个属于**应用层级**的协议，后三个主要面向**网络端到端的数据流**的协议。

应用层需要关心的是应用程序的逻辑细节，而不是数据在网络中的传输活动。应用层其下的三层则处理真正的通信细节，在 Internet 整个发展过程中的所有思想和着重点都以一种称为 RFC（Request For Comments）的文档格式存在。针对每一种特定的 TCP/IP 应用，有相应的 RFC 文档。
一些典型的 TCP/IP 应用有 FTP、Telnet、SMTP、SNTP、REXEC、TFTP、LPD、SNMP、NFS、INETD 等。RFC 使一些基本相同的 TCP/IP 应用程序实现了标准化，从而使得不同厂家开发的应用程序可以互相通信。


------
> 栗子：

1. A公司和B公司签署了一个合同，A公司要给B公司寄一份合同复印件。**这份复印件就代表了应用层，双方都需要的是一份复印件，如果A公司寄出了原件的话，那么B公司肯定是拒收的**

2. 其实呢，A公司是印度的一家公司，而B公司是中国的，为了双方都能看懂这份合同，该合同使用了英文。**这里的英文代表了表示层**

3. A公司人员打电话给B公司，告知B公司今天就会将合同寄出，**这代表一个请求**，B公司会在电话中确认，**这代表了一个响应**。**整个沟通过程表示会话层**。

4. A公司人员打完电话后，将合同进行每一页的确认，看看是否有缺页，忘记盖章等遗漏问题，确认发现没有问题后，将合同订在一起然后封装到合同袋中，准备送至快递公司，**这里确认合同表示了传输层**。

5. 当A公司人员将合同带给了快递公司，这个时候该合同就完全脱离了A和B公司，**即两个端**，快递公司将这份合同运到多个聚集点。**这些聚集点就表示着网络层，每一个聚集点就相当于网络的一个IP节点**。

6. 当合同投递至下一个聚集点时都会有人来确认该快递外包是否完整。**每一个聚集点组合成了数据链路层**。

7. 在整个路中，合同都是通过铁路运输。**运输工具便代表着物理层**。


# TCP/IP 五层模型：

- 应用层（应用层+表示层+会话层）


# 用户在浏览器输入地址后发生了什么？

### 解析URL

浏览器首先会**解析**地址，可以判断出是用的那一类协议，HTTP还是FTP等应用层协议。如果地址不合法就会调用默认搜索引擎进行搜索。

### DNS解析

- 浏览器首先会从缓存中查找
- 从本地host文件中查找
- 浏览器将地址发送给DNS服务器找到相应的IP地址返回给浏览器。
- 浏览器再将IP地址发送给

# 参考

1. 七层模型：https://www.cnblogs.com/qishui/p/5428938.html
2. 输入URL地址发生了什么： https://blog.csdn.net/coolwriter/article/details/80569851